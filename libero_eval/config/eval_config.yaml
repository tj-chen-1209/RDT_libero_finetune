# ============================================================================
# RDT-LIBERO 评估统一配置文件
# ============================================================================
# 使用方法:
#   ./eval_all_tasks_fast.sh libero_eval/config/eval_config.yaml
#
# 说明: 只需修改此文件中的配置项即可完成所有评估设置
# ============================================================================

# ──────────────────────────────────────────────────────────────────────────
# 数据集配置
# ──────────────────────────────────────────────────────────────────────────
dataset:
  # 数据集名称 (必选)
  # 可选项: libero_10, libero_90, libero_spatial, libero_object, libero_goal
  name: libero_spatial

# ──────────────────────────────────────────────────────────────────────────
# 模型配置
# ──────────────────────────────────────────────────────────────────────────
model:
  # 预训练模型路径 (必填)
  pretrained_path: ./checkpoints/rdt-finetune-1b-20251119_122234/checkpoint-65000
  
  # LoRA adapter 路径 (可选)
  # 如果使用 LoRA 微调的模型，填写 LoRA adapter 路径
  # 如果不使用，设为 null 或注释掉
  lora_adapter: null
  # lora_adapter: null  # 不使用 LoRA 时取消注释此行，并注释上一行

# ──────────────────────────────────────────────────────────────────────────
# 评估配置
# ──────────────────────────────────────────────────────────────────────────
evaluation:
  # 每个任务的评估轨迹数 (episodes)
  # 快速测试: 3-5
  # 标准评估: 10
  # 完整评估: 20
  num_traj: 3
  
  # 随机种子 (用于结果可复现)
  seed: 20241201
  
  # GPU 设置 (指定使用哪个GPU)
  # 例如: 0, 1, 2, 3, 4, 5, 6, 7
  gpu: 0
  
  # 视频保存配置
  video:
    # 视频保存间隔
    # 0: 不保存视频 (快速评估推荐)
    # 5: 每5个任务保存一次
    # 10: 每10个任务保存一次 (标准评估推荐)
    # 1: 每个任务都保存 (调试用，占用大量存储)
    save_interval: 0
    
    # 视频保存根目录
    root_dir: outs/eval_videos

# ──────────────────────────────────────────────────────────────────────────
# 输出配置
# ──────────────────────────────────────────────────────────────────────────
output:
  # 评估结果 CSV 文件保存目录
  metrics_dir: outs/metrics
  
  # CSV 文件名前缀 (用于区分不同实验)
  # 例如: "FAST_", "FULL_", "EXP1_", ""
  # 最终文件名格式: {prefix}{dataset_name}_eval{num_traj}eps_{checkpoint}_seed{seed}_{timestamp}.csv
  # prefix: "FAST_"

# ============================================================================
# 常用配置组合参考
# ============================================================================
#
# 【快速测试】 - 用于验证代码和模型加载
#   num_traj: 3
#   video.save_interval: 0
#   prefix: "FAST_"
#
# 【标准评估】 - 用于日常实验对比
#   num_traj: 10
#   video.save_interval: 10
#   prefix: "STD_"
#
# 【完整评估】 - 用于论文/报告的最终结果
#   num_traj: 20
#   video.save_interval: 10
#   prefix: "FULL_"
#
# 【调试模式】 - 用于调试特定任务
#   num_traj: 1
#   video.save_interval: 1
#   prefix: "DEBUG_"
#
# ============================================================================
# 数据集任务数量参考
# ============================================================================
#
# libero_10:      10 个任务
# libero_90:      90 个任务 (耗时较长)
# libero_spatial: 10 个任务
# libero_object:  10 个任务
# libero_goal:    10 个任务
#
# 评估时间估算 (仅供参考):
#   - 单任务 3 episodes: ~30-60秒
#   - 单任务 20 episodes: ~3-5分钟
#   - libero_10 (20 eps): ~30-50分钟
#   - libero_90 (20 eps): ~4-8小时
#
# ============================================================================

